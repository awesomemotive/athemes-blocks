{"version":3,"file":"pagination.js","mappings":"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","sources":["webpack://athemes-blocks/./assets/js/src/pagination/pagination.js"],"sourcesContent":["/**\r\n * aThemes Blocks pagination.\r\n * \r\n */\r\n\r\n'use strict';\r\n\r\nvar athemesBlocks = athemesBlocks || {};\r\n\r\nathemesBlocks.pagination = {\r\n\r\n\t// Defaults.\r\n\tdefaults: {\r\n\t\tbutton: document.querySelector( '.at-pagination__button' ),\r\n        buttonText: document.querySelector( '.at-pagination__button' ).innerHTML,\r\n\t\tpagination: document.querySelector( '.at-pagination' ),\r\n\t\tnext: document.querySelector( '.at-pagination .next' ),\r\n\t\tpaginationListSelector: 'ul.page-numbers',\r\n\t\tpaginationListItemsSelector: 'li',\r\n\t\titemsWrapper: document.querySelector( '.at-block-post-grid__items' ),\r\n\t\titemsTag: 'div',\r\n\t\titems: '.at-block-post-grid__items .at-block-post-grid__item',\r\n\t\tcurrentPage: 1,\r\n\t\ttotalPages: document.querySelector( '.at-pagination__button' ) !== null ? parseInt( document.querySelector( '.at-pagination__button' ).getAttribute( 'data-total-pages' ) ) : 0,\r\n\t\tinfiniteScroll: document.querySelector( '.at-pagination__button' ) !== null && document.querySelector( '.at-pagination__button' ).getAttribute( 'data-pagination-type' ) === 'infinite-scroll' ? true : false,\r\n\t\teventPrefix: 'athemesblocks.postgrid',\r\n\t\ttriggerOffset: 200\r\n\t},\r\n\r\n\t/**\r\n\t * Ensures DOM is ready before executing a function.\r\n     * To ensure better compatibility with plugins like WP Rocket that has\r\n     * options to defer/lazy-load JS files, each JS script should have your own \r\n     * 'domReady' function. This way the script has no dependecies and can be loaded standalone.\r\n     * \r\n\t * @param {Function} fn - The function to execute when DOM is ready\r\n     * @returns {void}\r\n\t */\r\n\tdomReady: function( fn ) {\r\n\t\tif ( typeof fn !== 'function' ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tif ( document.readyState === 'interactive' || document.readyState === 'complete' ) {\r\n\t\t\treturn fn();\r\n\t\t}\r\n\t\r\n\t\tdocument.addEventListener( 'DOMContentLoaded', fn, false );\r\n\t},\r\n\r\n\t/**\r\n\t * Initializes the pagination functionality.\r\n\t * Sets up event listeners and initializes infinite scroll if enabled.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tinit: function() {\r\n\t\tif ( typeof this.defaults.button === 'undefined' ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ( null === this.defaults.pagination ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst paginationList = this.defaults.pagination.querySelector( this.defaults.paginationListSelector );\r\n\t\tconst paginationListItems = paginationList.querySelectorAll( this.defaults.paginationListItemsSelector );\r\n\t\tconst beforeLastListItem = paginationListItems[ paginationListItems.length - 2 ];\r\n\t\tconst beforeLastListItemText = beforeLastListItem.tagName === 'LI' ? beforeLastListItem.querySelector( 'a' ).textContent : beforeLastListItem.textContent;\r\n\t\tconst total_pages = this.stringIsNumber( beforeLastListItemText ) ? beforeLastListItemText : this.extractNumberFromString( beforeLastListItemText );\r\n\r\n\t\tthis.defaults.totalPages = total_pages !== null ? parseInt( total_pages ) : this.defaults.totalPages;\r\n\r\n\t\tconst _this   = this,\r\n\t\t\tis_mobile = matchMedia( 'screen and (max-width: 767px)' ).matches ? true : false;\r\n\r\n\t\tthis.ename = is_mobile ? 'touchend' : 'click';\r\n\r\n\t\tthis.defaults.button.addEventListener( 'click', this.loadMoreButtonEventHandler.bind( this ) );\r\n\t\tthis.defaults.button.addEventListener( 'touchend', this.loadMoreButtonEventHandler.bind( this ) );\r\n\t\t\r\n\t\t// Infinite Scroll\r\n\t\tif ( this.defaults.infiniteScroll ) {\r\n\t\t\tthis.infiniteScroll();\r\n\r\n\t\t\t// Check if the button it's on view in the first load of the page\r\n\t\t\tif ( this.isAlmostInViewport( this.defaults.button ) ) {\r\n\t\t\t\tthis.defaults.button.dispatchEvent( new Event( this.ename ) );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\twindow.dispatchEvent( new Event( _this.defaults.eventPrefix + '.pagination.initialized' ) );\r\n\t},\r\n\r\n\t/**\r\n\t * Checks if a string is a valid number.\r\n     * \r\n\t * @param {string} str - The string to check\r\n\t * @returns {boolean} True if the string is a valid number\r\n\t */\r\n\tstringIsNumber: function( str ) {\r\n\t\treturn ! isNaN( str ) && ! isNaN( parseFloat( str ) );\r\n\t},\r\n\r\n\t/**\r\n\t * Extracts a number from a string using regex.\r\n     * \r\n\t * @param {string} str - The string to extract number from\r\n     * \r\n\t * @returns {string|null} The extracted number or null if no number found\r\n\t */\r\n\textractNumberFromString: function(str) {\r\n\t\t// Use regular expression to find the number in the string\r\n\t\tconst match = str.match(/-?\\d+(\\.\\d+)?/);\r\n\t\r\n\t\t// If a match is found, return it; otherwise, return null\r\n\t\treturn match ? match[0] : null;\r\n\t},\r\n\r\n\t/**\r\n\t * Handles the load more button click event.\r\n     * Shows loading state and triggers post loading.\r\n     * \r\n\t * @param {Event} e - The click event object\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tloadMoreButtonEventHandler: function(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tif ( ! this.defaults.button.classList.contains( 'loading' ) ) {\r\n\t\t\tthis.loadMorePosts( this.defaults );\r\n\t\t}\r\n\r\n\t\tthis.defaults.button.classList.add( 'loading' );\r\n\r\n        const buttonHeight = this.defaults.button.offsetHeight;\r\n        const buttonWidth = this.defaults.button.offsetWidth;\r\n\r\n        this.defaults.button.style.width = buttonWidth + 'px';\r\n        this.defaults.button.style.height = buttonHeight + 'px';\r\n\r\n        this.defaults.button.innerHTML = '<div class=\"atb-spinner-loader\"></div>';\r\n\t},\r\n\r\n\t/**\r\n\t * Loads more posts via AJAX.\r\n     * Handles masonry layout if enabled.\r\n     * Updates pagination state and triggers necessary events.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tloadMorePosts: function() {\r\n\t\tif ( this.defaults.currentPage >= this.defaults.totalPages ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\tconst _this = this,\r\n\t\t\tajax    = new XMLHttpRequest(),\r\n\t\t\tnextURL = this.defaults.next.getAttribute( 'href' );\r\n\r\n\t\tajax.open('GET', nextURL, true);\r\n\t\tajax.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n\r\n\t\tajax.onload = function() {\r\n\t\t\tif (this.status >= 200 && this.status < 400) {\r\n\t\t\t\tconst html     = document.createElement( 'html' );\r\n\t\t\t\thtml.innerHTML = this.responseText;\r\n\r\n\t\t\t\t// Masonry\r\n\t\t\t\tconst \r\n\t\t\t\t\tis_masonry_layout = typeof Masonry === 'function' && _this.defaults.itemsWrapper.classList.contains( 'masonry-brick' ),\r\n\t\t\t\t\tmsnry             = is_masonry_layout ? Masonry.data( _this.defaults.itemsWrapper.parentElement ) : '';\r\n\r\n\t\t\t\tconst\r\n\t\t\t\t\tis_shop_masonry_layout  = typeof Masonry === 'function' && _this.defaults.itemsWrapper.classList.contains( 'masonry' ),\r\n\t\t\t\t\tshop_masonry_first_item = is_shop_masonry_layout ? _this.defaults.itemsWrapper.querySelector( _this.defaults.items ) : '',\r\n\t\t\t\t\tshop_msnry              = is_shop_masonry_layout ? Masonry.data( _this.defaults.itemsWrapper ) : '';\r\n\r\n\t\t\t\tconst items = html.querySelectorAll( _this.defaults.items );\r\n\t\t\t\tfor ( let i=0;i<items.length;i++ ) {\r\n\t\t\t\t\tconst list_item = document.createElement( _this.defaults.itemsTag );\r\n\r\n\t\t\t\t\tlist_item.setAttribute( 'class', items[i].classList.value );\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( ! is_masonry_layout && ! is_shop_masonry_layout ) {\r\n\t\t\t\t\t\tlist_item.classList.add( 'atb-animation-slide-in' );\r\n\t\t\t\t\t\tlist_item.setAttribute( 'style', 'animation-delay: ' + ( i * 200 ) + 'ms;' );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlist_item.innerHTML = items[i].innerHTML;\r\n\r\n\t\t\t\t\t_this.defaults.itemsWrapper.append( list_item );\r\n\r\n\t\t\t\t\tif ( is_masonry_layout ) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tmsnry.appended( list_item );\r\n\t\t\t\t\t\tmsnry.layout();\r\n\t\t\t\t\t\r\n\t\t\t\t\t} else if ( is_shop_masonry_layout ) {\r\n\r\n\t\t\t\t\t\tlist_item.style.width        = shop_masonry_first_item.style.width;\r\n\t\t\t\t\t\tlist_item.style.marginBottom = shop_masonry_first_item.style.marginBottom;\r\n\r\n\t\t\t\t\t\tshop_msnry.appended( list_item );\r\n\t\t\t\t\t\tshop_msnry.layout();\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_this.defaults.button.classList.remove( 'loading' );\r\n\r\n\t\t\t\t_this.maybeInitExtraFeatures();\r\n\r\n\t\t\t\t_this.updateNextURL();\r\n\r\n\t\t\t\t// Infinite Scroll\r\n\t\t\t\tif ( _this.defaults.infiniteScroll && _this.isAlmostInViewport( _this.defaults.button ) ) {\r\n\t\t\t\t\t_this.defaults.button.dispatchEvent( new Event( 'click' ) );\r\n\t\t\t\t}\r\n\r\n                _this.removeSpinnerLoader();\r\n\r\n\t\t\t\t_this.hideButton();\r\n\r\n\t\t\t\twindow.dispatchEvent( new CustomEvent( _this.defaults.eventPrefix + '.pagination.items.added', {\r\n\t\t\t\t\tdetail: {\r\n\t\t\t\t\t\titemsAdded: items\r\n\t\t\t\t\t}\r\n\t\t\t\t} ) );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tajax.send();\r\n\t},\r\n\r\n\t/**\r\n\t * Removes the spinner loader and restores button state.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tremoveSpinnerLoader: function() {\r\n\t\tthis.defaults.button.querySelector( '.atb-spinner-loader' ).remove();\r\n        this.defaults.button.style.width = '';\r\n        this.defaults.button.style.height = '';\r\n        this.defaults.button.innerHTML = this.defaults.buttonText;\r\n\t},\r\n\r\n\t/**\r\n\t * Updates the next page URL for pagination.\r\n     * Handles different URL formats (page, paged, comment-page, etc.).\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tupdateNextURL: function() {\r\n\t\tlet\r\n\t\t\tnextPage = this.defaults.currentPage < this.defaults.totalPages ? this.defaults.currentPage + 1 : this.defaults.currentPage,\r\n\t\t\tnextURL  = this.defaults.next.getAttribute( 'href' ).replace( '/page/' + nextPage, '/page/' + ( nextPage + 1 ) );\r\n\r\n\t\tif ( this.defaults.next.getAttribute( 'href' ).indexOf( 'paged=' ) > 0 ) {\r\n\t\t\tnextURL = this.defaults.next.getAttribute( 'href' ).replace( 'paged=' + nextPage, 'paged=' + ( nextPage + 1 ) );\r\n\t\t} else if ( this.defaults.next.getAttribute( 'href' ).indexOf( '/comment-page-' ) > 0 ) {\r\n\t\t\tnextURL = this.defaults.next.getAttribute( 'href' ).replace( '/comment-page-' + nextPage, '/comment-page-' + ( nextPage + 1 ) );\r\n\t\t} else if ( this.defaults.next.getAttribute( 'href' ).indexOf( 'cpage=' ) > 0 ) {\r\n\t\t\tnextURL = this.defaults.next.getAttribute( 'href' ).replace( 'cpage=' + nextPage, 'cpage=' + ( nextPage + 1 ) );\r\n\t\t} else if ( this.defaults.next.getAttribute( 'href' ).indexOf( 'product-page=' ) > 0 ) {\r\n\t\t\tnextURL = this.defaults.next.getAttribute( 'href' ).replace( 'product-page=' + nextPage, 'product-page=' + ( nextPage + 1 ) );\r\n\t\t}\r\n\r\n\t\tthis.defaults.currentPage++; \r\n\r\n\t\tthis.defaults.next.setAttribute( 'href', nextURL );\r\n\t},\r\n\r\n\t/**\r\n\t * Hides the load more button when all pages are loaded.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\thideButton: function() {\r\n\t\tif ( this.defaults.currentPage >= this.defaults.totalPages ) {\r\n\t\t\tthis.defaults.button.remove();\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Sets up infinite scroll functionality.\r\n     * Triggers load more when button is near viewport.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tinfiniteScroll: function() {\r\n\t\tconst _this = this;\r\n\r\n\t\twindow.addEventListener( 'scroll', function(){\r\n\t\t\tif ( _this.isAlmostInViewport( _this.defaults.button ) ) {\r\n\t\t\t\t_this.defaults.button.dispatchEvent( new Event( _this.ename ) );\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Initializes additional features for newly loaded content.\r\n     * Handles quick view, wishlist, quantity inputs, and share buttons.\r\n     * \r\n     * @returns {void}\r\n\t */\r\n\tmaybeInitExtraFeatures: function() {\r\n\r\n\t\t// AddToAny Share Buttons\r\n\t\tif ( typeof a2a !== 'undefined' ) {\r\n\t\t\ta2a.init_all();\r\n\t\t}\r\n\r\n\t},\r\n\r\n\t/**\r\n\t * Checks if an element is near the viewport.\r\n     * \r\n\t * @param {HTMLElement} el - The element to check\r\n     * \r\n\t * @returns {boolean} True if element is near viewport\r\n\t */\r\n\tisAlmostInViewport: function( el ) {\r\n\t\tconst rect = el.getBoundingClientRect();\r\n\t\treturn (\r\n\t\t\t( rect.bottom - this.defaults.triggerOffset ) <= (window.innerHeight || document.documentElement.clientHeight)\r\n\t\t);\r\n\t}\r\n}\r\n\r\nathemesBlocks.pagination.domReady( setTimeout(function(){ athemesBlocks.pagination.init() }, 100) );\r\n"],"names":["athemesBlocks","pagination","defaults","button","document","querySelector","buttonText","innerHTML","next","paginationListSelector","paginationListItemsSelector","itemsWrapper","itemsTag","items","currentPage","totalPages","parseInt","getAttribute","infiniteScroll","eventPrefix","triggerOffset","domReady","fn","readyState","addEventListener","init","this","paginationListItems","querySelectorAll","beforeLastListItem","length","beforeLastListItemText","tagName","textContent","total_pages","stringIsNumber","extractNumberFromString","is_mobile","matchMedia","matches","ename","loadMoreButtonEventHandler","bind","isAlmostInViewport","dispatchEvent","Event","window","str","isNaN","parseFloat","match","e","preventDefault","classList","contains","loadMorePosts","add","buttonHeight","offsetHeight","buttonWidth","offsetWidth","style","width","height","_this","ajax","XMLHttpRequest","nextURL","open","setRequestHeader","onload","status","html","createElement","responseText","is_masonry_layout","Masonry","msnry","data","parentElement","is_shop_masonry_layout","shop_masonry_first_item","shop_msnry","i","list_item","setAttribute","value","append","appended","layout","marginBottom","remove","maybeInitExtraFeatures","updateNextURL","removeSpinnerLoader","hideButton","CustomEvent","detail","itemsAdded","send","nextPage","replace","indexOf","a2a","init_all","el","getBoundingClientRect","bottom","innerHeight","documentElement","clientHeight","setTimeout"],"sourceRoot":""}