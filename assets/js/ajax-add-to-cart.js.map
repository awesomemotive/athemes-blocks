{"version":3,"file":"ajax-add-to-cart.js","mappings":";;;;;AAAa;;AAEb,CAAC,UAASA,CAAC,EAAC;EACRA,CAAC,CAACC,QAAQ,CAAC,CAACC,EAAE,CAAC,OAAO,EAAE,uBAAuB,EAAE,UAASC,CAAC,EAAC;IACxDA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,MAAMC,KAAK,GAAGL,CAAC,CAAC,IAAI,CAAC;IACrB,MAAMM,SAAS,GAAGD,KAAK,CAACE,IAAI,CAAC,YAAY,CAAC;IAC1C,MAAMC,WAAW,GAAGH,KAAK,CAACE,IAAI,CAAC,cAAc,CAAC;IAE9C,IAAIC,WAAW,KAAK,QAAQ,EAAE;MAC1B,MAAMC,QAAQ,GAAGJ,KAAK,CAACE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC;MAE5CF,KAAK,CAACK,QAAQ,CAAC,SAAS,CAAC;MAEzBV,CAAC,CAACW,IAAI,CAAC;QACHC,GAAG,EAAEC,qBAAqB,CAACC,WAAW,CAACC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,cAAc,EAAE,aAAa,CAAC;QACxFC,IAAI,EAAE,MAAM;QACZV,IAAI,EAAE;UACFW,UAAU,EAAEZ,SAAS;UACrBG,QAAQ,EAAEA;QACd,CAAC;QACDU,OAAO,EAAE,SAAAA,CAASC,QAAQ,EAAE;UACxB,IAAIA,QAAQ,CAACC,KAAK,IAAID,QAAQ,CAACE,WAAW,EAAE;YACxCC,MAAM,CAACC,QAAQ,GAAGJ,QAAQ,CAACE,WAAW;YACtC;UACJ;;UAEA;UACAtB,CAAC,CAACC,QAAQ,CAACwB,IAAI,CAAC,CAACC,OAAO,CAAC,eAAe,EAAE,CAACN,QAAQ,CAACO,SAAS,EAAEP,QAAQ,CAACQ,SAAS,EAAEvB,KAAK,CAAC,CAAC;QAC9F,CAAC;QACDgB,KAAK,EAAE,SAAAA,CAAA,EAAW;UACdE,MAAM,CAACC,QAAQ,GAAGnB,KAAK,CAACwB,IAAI,CAAC,MAAM,CAAC;QACxC,CAAC;QACDC,QAAQ,EAAE,SAAAA,CAAA,EAAW;UACjBzB,KAAK,CAAC0B,WAAW,CAAC,SAAS,CAAC;QAChC;MACJ,CAAC,CAAC;IACN;EACJ,CAAC,CAAC;AACN,CAAC,EAAEC,MAAM,CAAC,C","sources":["webpack://athemes-blocks/./assets/js/src/woocommerce/ajax-add-to-cart.js"],"sourcesContent":["'use strict';\n\n(function($){\n    $(document).on('click', '.atb-ajax-add-to-cart', function(e){\n        e.preventDefault();\n\n        const $this = $(this);\n        const productId = $this.data('product-id');\n        const productType = $this.data('product-type');\n\n        if (productType === 'simple') {\n            const quantity = $this.data('quantity') || 1;\n\n            $this.addClass('loading');\n\n            $.ajax({\n                url: wc_add_to_cart_params.wc_ajax_url.toString().replace('%%endpoint%%', 'add_to_cart'),\n                type: 'POST',\n                data: {\n                    product_id: productId,\n                    quantity: quantity,\n                },\n                success: function(response) {\n                    if (response.error && response.product_url) {\n                        window.location = response.product_url;\n                        return;\n                    }\n                    \n                    // Trigger event for other scripts\n                    $(document.body).trigger('added_to_cart', [response.fragments, response.cart_hash, $this]);\n                },\n                error: function() {\n                    window.location = $this.attr('href');\n                },\n                complete: function() {\n                    $this.removeClass('loading');\n                }\n            });\n        }\n    });\n})(jQuery);"],"names":["$","document","on","e","preventDefault","$this","productId","data","productType","quantity","addClass","ajax","url","wc_add_to_cart_params","wc_ajax_url","toString","replace","type","product_id","success","response","error","product_url","window","location","body","trigger","fragments","cart_hash","attr","complete","removeClass","jQuery"],"sourceRoot":""}